{% extends 'layouts/help_layout.html' %}

{% block title %} mHouse Framework - Help {% endblock %}

{% block content_data %}
<h1 class="page-header">Online Cloud HTTP RESTful API:</h1>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">URI</h3>
    </div>
    <div class="panel-body">
        servers/<strong><em>server_id</em></strong>/
    </div>
</div>

<h3 class="page-header">Method: GET</h3>
<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Action</h3>
    </div>
    <div class="panel-body">
        Get the Server identified with the ID <strong><em>server_id</em></strong>.
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Possible Response Codes and Body</h3>
    </div>
    <div class="panel-body">
        <ul>
            <li>200 OK - JSON object with the Server identified with ID <strong><em>server_id</em></strong>.</li>
            <li>404 NOT FOUND - If the requested Server doesn’t exist for the authenticated user.</li>
        </ul>
    </div>
</div>

<h3 class="page-header">Method: PUT/PATCH</h3>
<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Action</h3>
    </div>
    <div class="panel-body">
        Update the Server identified with the ID <strong><em>server_id</em></strong>.
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Optional Query Setters</h3>
    </div>
    <div class="panel-body">
        <ul>
            <li><strong>fromserver</strong> - Boolean stating if the request is being made 
            from the Home Server or not. Requests from the Home Server must be like 
            <strong>PUT/PATCH /servers/<em>server_id</em>/?fromserver=True</strong>. Note 
            that all requests whithout <strong>fromserver=True</strong> will issue a subsequent request from 
            the Online Cloud Platform to the Home Server itself, so responses for kind of 
            requests may take a while to arrive, with the maximum timeout of 5 seconds.</li> 
        </ul>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Request Body</h3>
    </div>
    <div class="panel-body">
        <p>JSON with the Server updated fields.</p>
        <div class="panel panel-default">
            <div class="panel-heading">
                <h5 class="panel-title">Required Fields (for PUT method only)</h5>
            </div>
            <div class="panel-body">
                See request body for <a href="{% url 'serversList' %}"><strong>POST servers/</strong></a>
            </div>
        </div>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Possible Response Codes and Body</h3>
    </div>
    <div class="panel-body">
        <ul>
            <li>200 OK - JSON object with the Server identified with ID <strong><em>server_id</em></strong>.</li>
            <li>404 NOT FOUND - If the requested Server doesn’t exist for the authenticated user.</li>
            <li>504 GATEWAY TIMEOUT - If the Home Server is down.</li>
        </ul>
    </div>
</div>

<h3 class="page-header">Method: DELETE</h3>
<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Action</h3>
    </div>
    <div class="panel-body">
        Delete the Server identified with the ID <strong><em>server_id</em></strong>.
        The Server must not be running to be able to delete it.
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Possible Response Codes and Body</h3>
    </div>
    <div class="panel-body">
        <ul>
            <li>204 NO CONTENT - Empty Response confirming the Server deletion.</li>
            <li>403 FORBIDDEN - If the Server is running.</li>
            <li>404 NOT FOUND - If the requested Server doesn’t exist for the authenticated user.</li>
        </ul>
    </div>
</div>
{% endblock %}