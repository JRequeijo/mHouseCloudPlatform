{% extends 'layouts/help_layout.html' %}

{% block title %} mHouse Framework - Help {% endblock %}

{% block content_data %}
<h1 class="page-header">Online Cloud HTTP RESTful API:</h1>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">URI</h3>
    </div>
    <div class="panel-body">
        devices/<strong><em>device_id</em></strong>/history/ [?] 
        [start=<strong><em>start_date</em></strong>] [&] 
        [end=<strong><em>end_date</em></strong>] [&] 
        [id=<strong><em>property_change_id</em></strong>] [&] 
        [source=<strong><em>source</em></strong>] [&] 
        [limit=<strong><em>limit_number_of_results</em></strong>] [&] 
        [<strong><em>property_name</em></strong>:<strong><em>property_value</em></strong>] [...]
    </div>
</div>

<h3 class="page-header">Method: GET</h3>
<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Action</h3>
    </div>
    <div class="panel-body">
        Get the History of changes performed on the properties of the Device 
        identified with the ID <strong><em>server_id</em></strong>.
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Possible Query Filters</h3>
    </div>
    <div class="panel-body">
        <ul>
            <li><strong>start</strong> - The older date that the results can have.</li>
            <li><strong>end</strong> - The newer date that the results can have. 
            Both this field and start field must have the format 
            YYYY-MM-DD[T  HH:MM:ss[.uuuuuu]][TZ].</li>
            <li><strong>id</strong> - The specific ID of the property change we want to 
            retrieve.</li>
            <li><strong>source</strong> - The source of the property change. This field 
            can be DEVICE | CLOUD.</li>
            <li><strong>limit</strong> - The maximum number of results that we want to 
            retrieve. If this field is inexistent or null, the whole history will be 
            returned.</li>
            <li><strong><em>property_name</em></strong> - The specific value of a Device 
            Property which we want to filter the results by. This field can appear 
            multiple times on the query, so many as the number of properties of the Device.</li>
        </ul>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Possible Response Codes and Body</h3>
    </div>
    <div class="panel-body">
        <ul>
            <li>200 OK - JSON object with the Properties Change History.</li>
        </ul>
    </div>
</div>
{% endblock %}